(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{445:function(e,t,n){var content=n(484);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(33).default)("7557931a",content,!0,{sourceMap:!1})},483:function(e,t,n){"use strict";n(445)},484:function(e,t,n){var r=n(32)(!1);r.push([e.i,".v-text-field__details{padding-top:10px!important}",""]),e.exports=r},518:function(e,t,n){"use strict";n.r(t);n(20),n(60),n(31);var r=n(503),o={auth:"guest",name:"RegisterPage",data:function(){return{step:1,name:"",number:"",otp:"",emailRules:[function(e){return!!e||"Email is required"},function(e){return e.length>=5||"The e-mail address must contain at least 5 characters"},function(e){return e.length<=50||"The e-mail address cannot be longer than 50 characters"},function(e){return/.+@.+/.test(e)||"Please enter a valid email address"}],password:"",confirmPassword:"",nameRules:[function(e){return!!e||"Name is required"},function(e){return e.length>=4||"Name must contain at least 8 characters"},function(e){return e.length<=20||"Name cannot be longer than 50 characters"}],passwordRules:[function(e){return!!e||"Password is required"},function(e){return e.length>=8||"Password must contain at least 8 characters"},function(e){return e.length<=50||"Password cannot be longer than 50 characters"}],numberRules:[function(e){return!!e||"Phone Number is required"},function(e){return e.length>=11||"Phone Number must contain at least 11 characters"},function(e){return e.length<=11||"Phone Number cannot be longer than 11 characters"}],otpRules:[function(e){return!!e||"OTP is required"},function(e){return e.length>=6||"OTP must contain at least 4 characters"},function(e){return e.length<=6||"OTP address cannot be longer than 8 characters"}],appVerifier:"",snackbar:!1,snackbarColor:"default",message:"",loading:!1}},computed:{currentTitle:function(){switch(this.step){case 1:return"Sign-up | Name";case 2:return"Phone Number";case 3:return"Verify OTP";case 4:return"Password";default:return"Sign-up"}}},created:function(){this.initReCaptcha()},methods:{sendOtp:function(){var e=this,t=window.recaptchaVerifier;Object(r.c)(Object(r.b)(),"+88"+this.number,t).then((function(t){console.log(t),window.confirmationResult=t,e.step++})).catch((function(){}))},verifyOTP:function(){var e=this;this.loading=!0;var code=this.otp;window.confirmationResult.confirm(code).then((function(t){setTimeout((function(){e.loading=!1,e.snackbarColor="success",e.message="Processed OTP Verified.",e.snackbar=!0}),1500);var n=t.user;console.log(n),e.step++})).catch((function(){setTimeout((function(){e.loading=!1,e.snackbarColor="red accent-2",e.message="Invalid OTP, please try again",e.snackbar=!0}),1500)}))},initReCaptcha:function(){var e=this,t=Object(r.b)();setTimeout((function(){window.recaptchaVerifier=new r.a("recaptcha-container",{size:"invisible",callback:function(e){},"expired-callback":function(){}},t),e.appVerifier=window.recaptchaVerifier}),1e3)},resendOtp:function(){this.sendOtp()},submitForm:function(){var e=this,t={name:this.name,phone_number:this.number,password:this.password,confirm_password:this.confirmPassword};this.$store.dispatch("user/auth/storeUser",t).then((function(){e.$router.push("/login")}))}}},c=(n(483),n(68)),l=n(87),d=n.n(l),m=n(399),v=n(439),f=n(410),h=n(407),w=n(485),_=n(469),x=n(470),k=n(408),P=n(511),V=n(418),T=n(181),O=n(488),y=n(406),R=n(454),C=n(46),N=n(190),S=n(526),j=n(512),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-main",[n("div",{attrs:{id:"recaptcha-container"}}),e._v(" "),n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-layout",{attrs:{"align-center":"","justify-center":""}},[n("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[n("v-card",{staticClass:"elevation-12"},[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[n("v-toolbar-title",[e._v(e._s(e.currentTitle))])],1),e._v(" "),n("v-window",{model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[n("v-window-item",{attrs:{value:1}},[n("v-card-text",[n("v-text-field",{attrs:{rules:e.nameRules,counter:50,label:"Enter Your Name",minlength:"5",maxlength:"50",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1),e._v(" "),n("v-window-item",{attrs:{value:2}},[n("div",{staticClass:"pa-4 text-center"},[n("v-card-text",[n("v-text-field",{attrs:{rules:e.numberRules,counter:11,label:"Enter Phone Number",minlength:"11",maxlength:"11",required:""},model:{value:e.number,callback:function(t){e.number=t},expression:"number"}})],1)],1)]),e._v(" "),n("v-window-item",{attrs:{value:3}},[n("div",{staticClass:"pa-4 text-center"},[n("v-otp-input",{attrs:{length:"6",type:"number"},on:{finish:e.verifyOTP},model:{value:e.otp,callback:function(t){e.otp=t},expression:"otp"}}),e._v(" "),n("v-overlay",{attrs:{absolute:"",value:e.loading}},[n("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)],1)]),e._v(" "),n("v-window-item",{attrs:{value:4}},[n("v-card-text",[n("v-text-field",{attrs:{rules:e.passwordRules,label:"Password",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),n("v-text-field",{attrs:{rules:e.passwordRules,label:"Confirm Password",type:"password"},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}})],1)],1)],1),e._v(" "),n("v-divider"),e._v(" "),n("v-card-actions",[n("v-btn",{attrs:{disabled:1===e.step,text:""},on:{click:function(t){e.step--}}},[e._v(" Back ")]),e._v(" "),1===e.step?n("NuxtLink",{attrs:{to:"/login"}},[e._v("Already an Account?")]):e._e(),e._v(" "),n("v-spacer"),e._v(" "),2!==e.step&&3!==e.step&&4!==e.step?n("v-btn",{attrs:{disabled:""===e.name,color:"primary",depressed:""},on:{click:function(t){e.step++}}},[e._v("\n              Next\n            ")]):e._e(),e._v(" "),2===e.step?n("v-btn",{attrs:{color:"primary",depressed:""},on:{click:e.sendOtp}},[e._v("\n              Send OTP\n            ")]):e._e(),e._v(" "),3===e.step?n("v-btn",{attrs:{color:"primary",depressed:""},on:{click:e.resendOtp}},[e._v("\n              Re-Send OTP\n            ")]):e._e(),e._v(" "),4===e.step?n("v-btn",{attrs:{color:"primary",depressed:""},on:{click:e.submitForm}},[e._v("\n              Register\n            ")]):e._e()],1),e._v(" "),n("v-snackbar",{attrs:{color:e.snackbarColor,timeout:2e3},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n            "+e._s(e.message)+"\n          ")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;d()(component,{VBtn:m.a,VCard:v.a,VCardActions:f.a,VCardText:f.b,VContainer:h.a,VDivider:w.a,VFlex:_.a,VLayout:x.a,VMain:k.a,VOtpInput:P.a,VOverlay:V.a,VProgressCircular:T.a,VSnackbar:O.a,VSpacer:y.a,VTextField:R.a,VToolbar:C.a,VToolbarTitle:N.a,VWindow:S.a,VWindowItem:j.a})}}]);